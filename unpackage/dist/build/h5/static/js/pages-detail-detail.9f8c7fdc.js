(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-detail-detail"],{"0966":function(t,i,e){var n=e("dab2");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("7a9adf27",n,!0,{sourceMap:!1,shadowMode:!1})},"0c9e":function(t,i,e){"use strict";e.r(i);var n=e("d0a8"),a=e("5aeb");for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(s);e("2d9b");var r=e("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"a271ec66",null,!1,n["a"],void 0);i["default"]=o.exports},2069:function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.bannerList=function(){return new Promise((function(t,i){uni.request({url:"".concat(n.baseUrl,"/banner?type=2"),method:"GET",success:function(i){var e=i.data.banners;e.length=5,t(e)}})}))},i.getmusicCmd=function(t,i){return new Promise((function(e,a){uni.request({url:"".concat(n.baseUrl,"/comment/music?id=").concat(t,"&limit=").concat(i),success:function(t){e(t)}})}))},i.getmusicInfo=function(t){return new Promise((function(i,e){uni.request({url:"".concat(n.baseUrl,"/song/detail?ids=")+t,success:function(t){i(t)}})}))},i.getmusicLyric=function(t){return uni.request({url:"".concat(n.baseUrl,"/lyric?id=")+t})},i.getmusicUrl=function(t){return new Promise((function(i,e){uni.request({url:"".concat(n.baseUrl,"/song/url?id=")+t,success:function(t){i(t)}})}))},i.getplayList=function(t){return uni.request({url:"".concat(n.baseUrl,"/playlist/track/all?id=").concat(t,"&limit=15&offset=1")})},i.getsimiSong=function(t){return uni.request({url:"".concat(n.baseUrl,"/simi/song?id=")+t})},i.musicList=function(){return new Promise((function(t,i){uni.request({url:"".concat(n.baseUrl,"/personalized/newsong"),method:"GET",success:function(i){var e=i.data.result;t(e)}})}))},i.playList=function(){return new Promise((function(t,i){uni.request({url:"".concat(n.baseUrl,"/personalized?limit=6"),method:"GET",success:function(i){var e=i.data.result;t(e)}})}))},i.playlistDetail=function(t){return uni.request({url:"".concat(n.baseUrl,"/playlist/detail?id=")+t})},i.searchHot=function(){return uni.request({url:"".concat(n.baseUrl,"/search/hot/detail")})},i.topList=function(){return new Promise((function(t,i){uni.request({url:"".concat(n.baseUrl,"/toplist/detail"),method:"GET",success:function(i){console.log(i),t(i)}})}))},e("d3b7"),e("99af");var n=e("8cbd")},2887:function(t,i,e){"use strict";var n=e("0966"),a=e.n(n);a.a},"2d9b":function(t,i,e){"use strict";var n=e("8551"),a=e.n(n);a.a},"3e2d":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("d3b7"),e("159b"),e("ac1f"),e("5319"),e("14d9"),e("a9e3");var n=e("2069"),a={data:function(){return{id:"",musicUrl:"",data:{},index:1,content:"",simi:[],songlyric:[],lyricindex:0,playState:!0}},onLoad:function(t){var i=this;this.id=t.id,(0,n.getmusicUrl)(this.id).then((function(t){i.musicUrl=t.data.data[0].url,console.log(i.musicUrl)})),(0,n.getmusicInfo)(this.id).then((function(t){i.data=t.data.songs[0],i.bgAudioManager=uni.createInnerAudioContext(),i.playState=!1,i.bgAudioManager.coverImgUrl=t.data.songs[0].al.picUrl,i.bgAudioManager.src=i.musicUrl,i.bgAudioManager.onPlay((function(){i.listenlyricIndex(),i.playState=!0})),i.bgAudioManager.onPause((function(){i.playState=!1}))})),(0,n.getmusicCmd)(this.id,this.index).then((function(t){console.log(t),i.content=t.data.hotComments,console.log(i.content)})),(0,n.getsimiSong)(this.id).then((function(t){i.simi=t.data.songs,i.simi.forEach((function(t){t.picUrl=t.album.picUrl,t.aname=t.artists[0].name})),console.log(i.simi)})),(0,n.getmusicLyric)(this.id).then((function(t){var e=t.data.lrc.lyric,n=[];e.replace(/\[([^\]]+)\]([^\[]+)/g,(function(t,e,a){n.push({time:i.formatTimeToSec(e),lyric:a})})),i.songlyric=n})),uni.setStorageSync("musiclist",{name:123})},methods:{formatTimeToSec:function(t){var i=t.split(":");return(Number(60*i[0])+Number(i[1])).toFixed(1)},playmusic:function(){this.bgAudioManager.paused?this.bgAudioManager.play():(this.bgAudioManager.pause(),this.closelyricindex())},listenlyricIndex:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){for(var i=0;i<t.songlyric.length;i++){if(t.bgAudioManager.currentTime>t.songlyric[t.songlyric.length-1].time){t.lyricindex=t.songlyric.length-1;break}t.bgAudioManager.currentTime>t.songlyric[i].time&&t.bgAudioManager.currentTime<t.songlyric[i+1].time&&(t.lyricindex=i),console.log(t.lyricindex)}}),500)},closelyricindex:function(){clearInterval(this.timer)},getsimiMusic:function(t){console.log(t),uni.redirectTo({url:"/pages/detail/detail?id="+t})}},computed:{getsimiSong:n.getsimiSong,getmusicLyric:n.getmusicLyric},onUnload:function(){this.closelyricindex(),this.bgAudioManager.destroy()},onHide:function(){this.closelyricindex(),this.bgAudioManager.destroy()}};i.default=a},4286:function(t,i,e){"use strict";e.r(i);var n=e("5e92"),a=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a},"5aeb":function(t,i,e){"use strict";e.r(i);var n=e("3e2d"),a=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a},"5e92":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"songlist",props:{item:{type:Object,default:function(){}}},data:function(){return{}},onLoad:function(){},methods:{}};i.default=n},8551:function(t,i,e){var n=e("b848");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("3127e0c4",n,!0,{sourceMap:!1,shadowMode:!1})},8994:function(t,i,e){t.exports=e.p+"static/img/playimg.ca60e60d.png"},"8cbd":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.baseUrl=void 0;i.baseUrl="http://api.404.kim"},b848:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.detail[data-v-a271ec66]{position:relative;padding:0 %?25?%}.detail .bj[data-v-a271ec66]{position:fixed;z-index:-1;top:0;width:100%;height:100vh;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);-webkit-filter:blur(10px);filter:blur(10px);-webkit-transform:scale(1.2);transform:scale(1.2)}.detail .bj uni-image[data-v-a271ec66]{width:100%;height:100%}.detail .playimg[data-v-a271ec66]{position:relative;margin-top:%?25?%}.detail .playimg .playbj[data-v-a271ec66]{height:%?580?%;width:%?580?%;margin:auto}.detail .playimg .playbj uni-image[data-v-a271ec66]{width:100%;height:100%}.detail .playimg .musicimg .tfimg[data-v-a271ec66]{-webkit-animation:rotate-data-v-a271ec66 6s linear infinite;animation:rotate-data-v-a271ec66 6s linear infinite}@-webkit-keyframes rotate-data-v-a271ec66{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\r\n    /*从0度开始*/}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)\r\n    /*360度结束*/}}@keyframes rotate-data-v-a271ec66{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\r\n    /*从0度开始*/}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)\r\n    /*360度结束*/}}.detail .playimg .musicimg uni-image[data-v-a271ec66]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:%?290?%;height:%?290?%;border-radius:50%}.detail .playimg .icon[data-v-a271ec66]{width:%?100?%;height:%?100?%;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.detail .playimg .icon .iconfont[data-v-a271ec66]{font-size:%?100?%}.detail .detail-container[data-v-a271ec66]{padding:%?25?%;margin-top:%?25?%;width:100%}.detail .detail-container .songtitle[data-v-a271ec66]{display:flex;margin-bottom:%?25?%}.detail .detail-container .songtitle .title[data-v-a271ec66]{margin-right:auto;font-size:%?45?%;font-weight:700}.detail .detail-container .songtitle .iconfont[data-v-a271ec66]{font-size:%?50?%}.detail .detail-container .detail-lyric[data-v-a271ec66]{transition:.5s;height:%?246?%;text-align:center;overflow:hidden;font-size:%?32?%;line-height:%?82?%;color:#919193;margin-bottom:%?25?%}.detail .detail-container .lyric-item[data-v-a271ec66]{overflow:hidden;height:%?82?%}.detail .detail-container .lyric-item.active[data-v-a271ec66]{color:#fff;font-weight:700}.detail .detail-container .player[data-v-a271ec66]{margin-top:%?25?%}.detail .comments[data-v-a271ec66]{margin-top:%?50?%}.detail .comments .comments-flx[data-v-a271ec66]{min-height:%?200?%;display:flex;align-items:flex-start;margin-bottom:%?50?%}.detail .comments .comments-flx .avatar[data-v-a271ec66]{margin-right:%?25?%}.detail .comments .comments-flx .avatar uni-image[data-v-a271ec66]{width:%?60?%;height:%?60?%;border-radius:50%}.detail .comments .comments-flx .info[data-v-a271ec66]{display:flex;width:80%;flex-direction:column;justify-content:space-between;min-height:%?100?%}.detail .comments .comments-flx .info .username[data-v-a271ec66]{font-size:%?28?%;line-height:%?40?%;color:#cbcacf}.detail .comments .comments-flx .info .time[data-v-a271ec66]{font-size:%?26?%;line-height:%?40?%;color:#eee}.detail .comments .comments-flx .info .text[data-v-a271ec66]{line-height:%?40?%;margin-top:%?20?%;color:#fff;font-weight:700;font-size:%?30?%}.detail .comments .comments-flx .icon[data-v-a271ec66]{margin-left:auto;color:#cbcacf}.detail .comments .comments-flx .icon uni-text[data-v-a271ec66]{font-size:%?35?%;color:#fff}',""]),t.exports=i},b936:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this.$createElement,i=this._self._c||t;return i("v-uni-view",{staticClass:"songlist"},[i("v-uni-view",{staticClass:"songdetail"},[i("v-uni-view",{staticClass:"songimg"},[i("v-uni-image",{attrs:{mode:"aspectFill",src:this.item.picUrl}})],1),i("v-uni-view",{staticClass:"songinfo"},[i("v-uni-text",{staticClass:"name"},[this._v(this._s(this.item.name))]),i("v-uni-text",{staticClass:"aname"},[this._v(this._s(this.item.aname))])],1),i("v-uni-view",{staticClass:"songlike"},[i("v-uni-text",{staticClass:"iconfont icon-heart"}),i("v-uni-text",{staticClass:"iconfont icon-play-circle"})],1)],1)],1)},a=[]},bec5:function(t,i,e){"use strict";e.r(i);var n=e("b936"),a=e("4286");for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(s);e("2887");var r=e("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"0f3e1ef6",null,!1,n["a"],void 0);i["default"]=o.exports},d0a8:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return n}));var n={songlist:e("bec5").default},a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"detail"},[t.data.al?n("v-uni-view",{staticClass:"bj"},[n("v-uni-image",{attrs:{mode:"aspectFill",src:t.data.al.picUrl}})],1):t._e(),n("v-uni-view",{staticClass:"playimg",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.playmusic()}}},[n("v-uni-view",{staticClass:"playbj"},[n("v-uni-image",{attrs:{mode:"aspectFill",src:e("8994")}})],1),t.data.al?n("v-uni-view",{staticClass:"musicimg"},[n("v-uni-image",{class:t.playState?"tfimg":"",attrs:{mode:"aspectFill",src:t.data.al.picUrl}})],1):t._e(),n("v-uni-view",{staticClass:"icon"},[n("v-uni-text",{staticClass:"iconfont",class:t.playState?"icon-timeout":"icon-play-circle"})],1)],1),n("v-uni-view",{staticClass:"detail-container"},[t.data.al?n("v-uni-view",{staticClass:"songtitle"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.data.al.name))]),n("v-uni-view",{staticClass:"iconfont icon-heart"})],1):t._e(),n("v-uni-view",{staticClass:"detail-lyric"},t._l(t.songlyric,(function(i,e){return n("v-uni-view",{key:i.index,staticClass:"lyric-item",class:{active:t.lyricindex==e},style:{transform:"translateY("+82*-(t.lyricindex-1)+"rpx)"}},[t._v(t._s(i.lyric))])})),1),n("v-uni-view",{staticStyle:{color:"white","font-size":"35rpx","margin-top":"50rpx","font-weight":"bold"}},[t._v("喜欢这首歌的人也喜欢听")]),n("v-uni-view",{staticClass:"simi"},t._l(t.simi,(function(i,e){return n("v-uni-view",{key:i.id,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getsimiMusic(i.id)}}},[n("songlist",{attrs:{item:i}})],1)})),1),n("v-uni-view",{staticStyle:{color:"white","font-size":"35rpx","margin-top":"50rpx","font-weight":"bold"}},[t._v("精彩评论")]),n("v-uni-view",{staticClass:"comments"},t._l(t.content,(function(i,e){return n("v-uni-view",{staticClass:"comments-flx"},[n("v-uni-view",{staticClass:"avatar"},[n("v-uni-image",{attrs:{mode:"aspectFill",src:i.user.avatarUrl}})],1),n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"username"},[t._v(t._s(i.user.nickname))]),n("v-uni-view",{staticClass:"time"},[t._v(t._s(t.$u.timeFormat(i.time,"yyyy年mm月dd日")))]),n("v-uni-view",{staticClass:"text"},[t._v(t._s(i.content))])],1),n("v-uni-view",{staticClass:"icon"},[n("v-uni-text",[t._v(t._s(i.likedCount))]),n("v-uni-text",{staticClass:"iconfont icon-like"})],1)],1)})),1)],1)],1)},s=[]},dab2:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.songlist .songdetail[data-v-0f3e1ef6]{min-height:%?220?%;width:100%;background:#fafafa;display:flex;align-items:center;padding:0 %?25?%;margin:%?10?% 0;border-radius:%?25?%}.songlist .songdetail .songimg uni-image[data-v-0f3e1ef6]{width:%?170?%;height:%?170?%;border-radius:%?20?%}.songlist .songdetail .songinfo[data-v-0f3e1ef6]{margin:0 %?25?%;display:flex;flex-direction:column;justify-content:space-between;white-space:nowrap;overflow:hidden}.songlist .songdetail .songinfo .name[data-v-0f3e1ef6]{font-weight:700;font-size:%?35?%;text-overflow:ellipsis}.songlist .songdetail .songinfo .aname[data-v-0f3e1ef6]{font-size:%?25?%;margin-top:%?15?%}.songlist .songdetail .songlike[data-v-0f3e1ef6]{margin-left:auto}.songlist .songdetail .songlike .iconfont[data-v-0f3e1ef6]{font-size:%?45?%;margin-left:%?25?%}',""]),t.exports=i}}]);